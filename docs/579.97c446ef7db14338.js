"use strict";(self.webpackChunkng_multigames=self.webpackChunkng_multigames||[]).push([[579],{4579:(X,f,r)=>{r.r(f),r.d(f,{HangedModule:()=>Q});var l=r(6895),x=r(4228),p=r(4463),_=r(5925),v=r(4132),u=r(1135),g=r(727),o=(()=>{return(n=o||(o={})).HARD="HARD",n.NORMAL="NORMAL",n.EASY="EASY",o;var n})(),e=r(8274);class M extends g.w0{constructor(i,t){super()}schedule(i,t=0){return this}}const h={setInterval(n,i,...t){const{delegate:s}=h;return s?.setInterval?s.setInterval(n,i,...t):setInterval(n,i,...t)},clearInterval(n){const{delegate:i}=h;return(i?.clearInterval||clearInterval)(n)},delegate:void 0};var S=r(8737),w=r(6063);class d{constructor(i,t=d.now){this.schedulerActionCtor=i,this.now=t}schedule(i,t=0,s){return new this.schedulerActionCtor(this,i).schedule(s,t)}}d.now=w.l.now;const y=new class A extends d{constructor(i,t=d.now){super(i,t),this.actions=[],this._active=!1}flush(i){const{actions:t}=this;if(this._active)return void t.push(i);let s;this._active=!0;do{if(s=i.execute(i.state,i.delay))break}while(i=t.shift());if(this._active=!1,s){for(;i=t.shift();)i.unsubscribe();throw s}}}(class b extends M{constructor(i,t){super(i,t),this.scheduler=i,this.work=t,this.pending=!1}schedule(i,t=0){var s;if(this.closed)return this;this.state=i;const a=this.id,c=this.scheduler;return null!=a&&(this.id=this.recycleAsyncId(c,a,t)),this.pending=!0,this.delay=t,this.id=null!==(s=this.id)&&void 0!==s?s:this.requestAsyncId(c,this.id,t),this}requestAsyncId(i,t,s=0){return h.setInterval(i.flush.bind(i,this),s)}recycleAsyncId(i,t,s=0){if(null!=s&&this.delay===s&&!1===this.pending)return t;null!=t&&h.clearInterval(t)}execute(i,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(i,t);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,t){let a,s=!1;try{this.work(i)}catch(c){s=!0,a=c||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),a}unsubscribe(){if(!this.closed){const{id:i,scheduler:t}=this,{actions:s}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,S.P)(s,this),null!=i&&(this.id=this.recycleAsyncId(t,i,null)),this.delay=null,super.unsubscribe()}}}),k=y;var I=r(9751),O=r(3532);const C=["assets/images/memory/coconut.png","assets/images/memory/drink.png","assets/images/memory/flip-flop.png","assets/images/memory/popsicle.png","assets/images/memory/sun-umbrella.png","assets/images/memory/parasol.png","assets/images/memory/popsicles.png","assets/images/memory/summer.png","assets/images/memory/crab.png","assets/images/memory/sun.png","assets/images/memory/lifesaver.png","assets/images/memory/starfish.png","assets/images/memory/sunglasses.png","assets/images/memory/bikini.png","assets/images/memory/pulpo.png","assets/images/memory/plane.png","assets/images/memory/vacaciones.png","assets/images/memory/caravana.png","assets/images/memory/vacaciones-de-verano.png","assets/images/memory/aletas.png","assets/images/memory/bola.png","assets/images/memory/ice-cream.png","assets/images/memory/summer-surf.png","assets/images/memory/calendar.png"];function F(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2),e.NdJ("click",function(){const c=e.CHM(t).index,m=e.oxw();return e.KtG(m.selectCard(c))}),e.TgZ(2,"div",3),e._UZ(3,"img",4),e.qZA(),e.TgZ(4,"div",5),e._UZ(5,"img",6),e.qZA()()()}if(2&n){const t=i.$implicit;e.xp6(1),e.ekj("cards__inner--selected",null==t?null:t.selected)("cards__inner--locked",null==t?null:t.locked),e.xp6(4),e.s9C("src",t.image,e.LSH),e.s9C("alt",t.value)}}let U=(()=>{class n{constructor(t){this.changeDetector=t,this.mode=o.NORMAL,this.gameState=new u.X({isFinished:!1,isSuccesful:!1}),this.cards=[],this.createdIndex=[],this.numCards=0,this.selectionsCounter=0,this.lastSelectedCard=0,this.currentSelectedCard=0,this.hits=0}ngOnInit(){this.createCards()}selectCard(t){this.cards[t].selected=!this.cards[t].selected,0===this.selectionsCounter?(this.lastSelectedCard=t,this.selectionsCounter++):(this.currentSelectedCard=t,this.selectionsCounter=0,this.lockUnlockUnselectedCards(!0),this.checkSelection())}createCards(){this.numCards=this.getNumCards();for(let t=0;t<this.numCards/2;t++)for(let s=0;s<2;s++)this.setNextIndexCard(this.numCards),this.cards[this.createdIndex[this.createdIndex.length-1]]={image:C[t],selected:!1,value:C[t]?.split(".")[0],locked:!1}}getNumCards(){return{[o.EASY]:16,[o.NORMAL]:32,[o.HARD]:48}[this.mode]??32}setNextIndexCard(t){let s=this.getNextIndexCard(t);this.createdIndex.includes(s)?this.setNextIndexCard(t):this.createdIndex.push(s)}getNextIndexCard(t){return Math.floor(Math.random()*t)}lockUnlockUnselectedCards(t){this.cards.filter(s=>!s.selected).map(s=>s.locked=t)}checkSelection(){this.cards[this.lastSelectedCard].value===this.cards[this.currentSelectedCard].value?(this.hits++,this.hits===this.numCards/2?this.setSuccesfulGame():(this.updateSelectedCardsState(!0),setTimeout(()=>{this.lockUnlockUnselectedCards(!1)},1e3))):setTimeout(()=>{this.updateSelectedCardsState(!1),this.lockUnlockUnselectedCards(!1)},1e3),setTimeout(()=>{this.changeDetector.detectChanges()},1e3)}updateSelectedCardsState(t){this.cards[this.lastSelectedCard].selected=t,this.cards[this.currentSelectedCard].selected=t}setSuccesfulGame(){this.gameState.next({...this.gameState.getValue(),isFinished:!0,isSuccesful:!0})}static#e=this.\u0275fac=function(s){return new(s||n)(e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-memory-cards"]],inputs:{mode:"mode",gameState:"gameState"},decls:1,vars:1,consts:[["class","cards",4,"ngFor","ngForOf"],[1,"cards"],[1,"cards__inner",3,"click"],[1,"cards__front","cards__center"],["src","assets/images/memory/puzzle.png","alt","Card game",2,"width","75%","height","75%"],[1,"cards__back","cards__center"],[2,"width","65%","height","65%",3,"src","alt"]],template:function(s,a){1&s&&e.YNc(0,F,6,6,"div",0),2&s&&e.Q6J("ngForOf",a.cards)},dependencies:[l.sg],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap}.cards[_ngcontent-%COMP%]{margin:.75rem;cursor:pointer;perspective:1000px;width:36px;height:36px}.cards__center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.cards__inner[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;text-align:center;transition:transform .6s;transform-style:preserve-3d;box-shadow:0 4px 8px #0003}.cards__inner--selected[_ngcontent-%COMP%]{transform:rotateY(180deg);pointer-events:none}.cards__inner--locked[_ngcontent-%COMP%]{pointer-events:none}.cards__front[_ngcontent-%COMP%], .cards__back[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;backface-visibility:hidden}.cards__back[_ngcontent-%COMP%]{transform:rotateY(180deg)}@media (width >= 768px){.cards[_ngcontent-%COMP%]{width:40px;height:40px}}@media (width >= 992px){.cards[_ngcontent-%COMP%]{width:60px;height:60px}}@media (width >= 1200px){.cards[_ngcontent-%COMP%]{width:90px;height:90px}}@media (width >= 1400px){.cards[_ngcontent-%COMP%]{width:100px;height:100px}}"]})}return n})();function J(n,i){if(1&n&&(e.TgZ(0,"span",4),e._uU(1),e.qZA()),2&n){const t=i.ngIf;e.xp6(1),e.Oqu(t)}}let L=(()=>{class n{constructor(){this.mode=o.NORMAL,this.gameState=new u.X({isFinished:!1,isSuccesful:!1}),this.back=new e.vpe,this.gameMode=o,this.time=new u.X(0),this.subscriptions=new g.w0}ngOnInit(){this.time.next(this.getTime()),this.subscriptions.add(function N(n=0,i=y){return n<0&&(n=0),function T(n=0,i,t=k){let s=-1;return null!=i&&((0,O.K)(i)?t=i:s=i),new I.y(a=>{let c=function Z(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;c<0&&(c=0);let m=0;return t.schedule(function(){a.closed||(a.next(m++),0<=s?this.schedule(void 0,s):a.complete())},c)})}(n,n,i)}(1e3).subscribe(()=>{this.time.next(this.time.getValue()-1)})),this.subscriptions.add(this.time.subscribe(t=>{t<=0&&this.gameState.next({...this.gameState.getValue(),isFinished:!0,isSuccesful:!1})}))}ngOnDestroy(){this.subscriptions.unsubscribe()}goBack(){this.back.emit(!0)}getTime(){return{[o.EASY]:60,[o.NORMAL]:100,[o.HARD]:150}[this.mode]??100}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-memory-board"]],inputs:{mode:"mode",gameState:"gameState"},outputs:{back:"back"},decls:5,vars:5,consts:[[1,"board","d-flex","justify-content-center","align-items-center","container-fluid","vh-100","py-4","position-relative"],[1,"board__back","bi","bi-arrow-left","position-absolute","top-0","end-0","fs-4","p-2",3,"click"],["class","position-absolute top-0 start-0 fs-4 p-2",4,"ngIf"],[3,"mode","gameState"],[1,"position-absolute","top-0","start-0","fs-4","p-2"]],template:function(s,a){1&s&&(e.TgZ(0,"div",0)(1,"i",1),e.NdJ("click",function(){return a.goBack()}),e.qZA(),e.YNc(2,J,2,1,"span",2),e.ALo(3,"async"),e._UZ(4,"app-memory-cards",3),e.qZA()),2&s&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,3,a.time)),e.xp6(2),e.Q6J("mode",a.mode)("gameState",a.gameState))},dependencies:[l.O5,U,l.Ov],changeDetection:0})}return n})();function G(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){const c=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.selectMode(c))}),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"lowercase"),e.qZA()}if(2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,"games.memory.mode."+t))," ")}}let P=(()=>{class n{constructor(){this.selectedMode=new e.vpe,this.modeType=o,this.gameModes=[o.EASY,o.NORMAL,o.HARD]}selectMode(t){this.selectedMode.emit(t)}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-memory-game-mode"]],outputs:{selectedMode:"selectedMode"},decls:3,vars:1,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-center","vh-100"],[1,"d-flex","flex-column"],["type","button","class","btn fs-3 my-2",3,"click",4,"ngFor","ngForOf"],["type","button",1,"btn","fs-3","my-2",3,"click"]],template:function(s,a){1&s&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,G,4,5,"button",2),e.qZA()()),2&s&&(e.xp6(2),e.Q6J("ngForOf",a.gameModes))},dependencies:[l.sg,l.i8,p.X$]})}return n})(),R=(()=>{class n{constructor(){this.isSuccessful=!1}newGame(){window.location.reload()}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-memory-end-game"]],inputs:{isSuccessful:"isSuccessful"},decls:11,vars:11,consts:[[1,"vh-100","d-flex","justify-content-center","align-items-center","flex-column"],[1,"fs-1","fw-bold"],[1,"fs-3"],["type","button",1,"btn","btn-dark","m-1",3,"click"]],template:function(s,a){1&s&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"h1",2),e._uU(5),e.ALo(6,"translate"),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",3),e.NdJ("click",function(){return a.newGame()}),e._uU(9),e.ALo(10,"translate"),e.qZA()()),2&s&&(e.xp6(2),e.Oqu(e.lcZ(3,3,"games.gameOver")),e.xp6(3),e.Oqu(a.isSuccessful?e.lcZ(6,5,"games.win"):e.lcZ(7,7,"games.lose")),e.xp6(4),e.Oqu(e.lcZ(10,9,"games.newGame")))},dependencies:[p.X$]})}return n})();function Y(n,i){1&n&&e._UZ(0,"app-exit-game")}function E(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-memory-game-mode",6),e.NdJ("selectedMode",function(a){e.CHM(t);const c=e.oxw(2);return e.KtG(c.selectMode(a))}),e.qZA()}}function D(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-memory-board",7),e.NdJ("back",function(a){e.CHM(t);const c=e.oxw(2);return e.KtG(c.showMenu(a))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("mode",t.selectedMode)("gameState",t.gameState)}}function j(n,i){if(1&n&&e._UZ(0,"app-memory-end-game",8),2&n){const t=e.oxw().ngIf;e.Q6J("isSuccessful",t.isSuccesful)}}function B(n,i){if(1&n&&(e.TgZ(0,"div",1),e.YNc(1,Y,1,0,"app-exit-game",2),e.YNc(2,E,1,0,"app-memory-game-mode",3),e.YNc(3,D,1,2,"app-memory-board",4),e.YNc(4,j,1,1,"app-memory-end-game",5),e.qZA()),2&n){const t=i.ngIf,s=e.oxw();e.xp6(1),e.Q6J("ngIf",s.displayMenu||t.isFinished),e.xp6(1),e.Q6J("ngIf",s.displayMenu),e.xp6(1),e.Q6J("ngIf",!s.displayMenu&&!t.isFinished),e.xp6(1),e.Q6J("ngIf",t.isFinished)}}const H=[{path:"",component:(()=>{class n{constructor(){this.displayMenu=!0,this.gameState=new u.X({isFinished:!1,isSuccesful:!1}),this.selectedMode=o.NORMAL,this.subscriptions=new g.w0}ngOnInit(){this.subscriptions.add(this.gameState.subscribe(t=>{this.gameState.next({...this.gameState.getValue(),isFinished:t.isFinished,isSuccesful:t.isSuccesful})}))}ngOnDestroy(){this.subscriptions.unsubscribe()}selectMode(t){this.selectedMode=t,this.displayMenu=!1}showMenu(t){this.displayMenu=t}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-memory"]],decls:2,vars:3,consts:[["class","memory container-fluid vh-100 d-flex flex-wrap flex-column justify-content-center align-items-center",4,"ngIf"],[1,"memory","container-fluid","vh-100","d-flex","flex-wrap","flex-column","justify-content-center","align-items-center"],[4,"ngIf"],[3,"selectedMode",4,"ngIf"],[3,"mode","gameState","back",4,"ngIf"],[3,"isSuccessful",4,"ngIf"],[3,"selectedMode"],[3,"mode","gameState","back"],[3,"isSuccessful"]],template:function(s,a){1&s&&(e.YNc(0,B,5,4,"div",0),e.ALo(1,"async")),2&s&&e.Q6J("ngIf",e.lcZ(1,1,a.gameState))},dependencies:[l.O5,_.R,L,P,R,l.Ov],styles:[".memory[_ngcontent-%COMP%]{background-image:linear-gradient(180deg,#ffffff,pink)}"]})}return n})()}];let Q=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275mod=e.oAB({type:n});static#s=this.\u0275inj=e.cJS({imports:[x.Bz.forChild(H),l.ez,p.aw,_.R,v.O]})}return n})()}}]);