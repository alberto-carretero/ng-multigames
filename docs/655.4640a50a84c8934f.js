"use strict";(self.webpackChunkng_multigames=self.webpackChunkng_multigames||[]).push([[655],{7655:(j,h,a)=>{a.r(h),a.d(h,{HangedModule:()=>L});var d=a(6895),y=a(4228),C=a(4463),u=a(5925),x=a(4132),c=(()=>{return(n=c||(c={})).HARD="HARD",n.NORMAL="NORMAL",n.EASY="EASY",c;var n})(),e=a(8274),M=a(1135),g=a(727);class v extends g.w0{constructor(i,t){super()}schedule(i,t=0){return this}}const p={setInterval(n,i,...t){const{delegate:s}=p;return s?.setInterval?s.setInterval(n,i,...t):setInterval(n,i,...t)},clearInterval(n){const{delegate:i}=p;return(i?.clearInterval||clearInterval)(n)},delegate:void 0};var b=a(8737),N=a(6063);class l{constructor(i,t=l.now){this.schedulerActionCtor=i,this.now=t}schedule(i,t=0,s){return new this.schedulerActionCtor(this,i).schedule(s,t)}}l.now=N.l.now;const f=new class A extends l{constructor(i,t=l.now){super(i,t),this.actions=[],this._active=!1}flush(i){const{actions:t}=this;if(this._active)return void t.push(i);let s;this._active=!0;do{if(s=i.execute(i.state,i.delay))break}while(i=t.shift());if(this._active=!1,s){for(;i=t.shift();)i.unsubscribe();throw s}}}(class w extends v{constructor(i,t){super(i,t),this.scheduler=i,this.work=t,this.pending=!1}schedule(i,t=0){var s;if(this.closed)return this;this.state=i;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(s=this.id)&&void 0!==s?s:this.requestAsyncId(o,this.id,t),this}requestAsyncId(i,t,s=0){return p.setInterval(i.flush.bind(i,this),s)}recycleAsyncId(i,t,s=0){if(null!=s&&this.delay===s&&!1===this.pending)return t;null!=t&&p.clearInterval(t)}execute(i,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(i,t);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,t){let r,s=!1;try{this.work(i)}catch(o){s=!0,r=o||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:i,scheduler:t}=this,{actions:s}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,b.P)(s,this),null!=i&&(this.id=this.recycleAsyncId(t,i,null)),this.delay=null,super.unsubscribe()}}}),k=f;var I=a(9751),O=a(3532);const _=["assets/images/memory/coconut.png","assets/images/memory/drink.png","assets/images/memory/flip-flop.png","assets/images/memory/popsicle.png","assets/images/memory/sun-umbrella.png","image-1.png","image-2.png","image-3.png","image-4.png","image-5.png","image-6.png","image-7.png","image-8.png","image-9.png","image-10.png","image-11.png","image-12.png","image-13.png","image-14.png","image-15.png","image-16.png","image-17.png","image-18.png","image-19.png","image-20.png","image-21.png","image-22.png","image-23.png","image-24.png","image-25.png","image-26.png"];function Z(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2),e.NdJ("click",function(){const o=e.CHM(t).index,m=e.oxw();return e.KtG(m.selectCard(o))}),e.TgZ(2,"div",3),e._UZ(3,"img",4),e.qZA(),e.TgZ(4,"div",5),e._UZ(5,"img",6),e.qZA()()()}if(2&n){const t=i.$implicit;e.xp6(1),e.ekj("cards__inner--selected",null==t?null:t.selected)("cards__inner--locked",null==t?null:t.locked),e.xp6(4),e.s9C("src",t.image,e.LSH),e.s9C("alt",t.value)}}let P=(()=>{class n{constructor(t){this.changeDetector=t,this.mode=c.NORMAL,this.createdIndex=[],this.counter=0,this.lastSelectedCard=0,this.currentSelectedCard=0,this.cards=[]}ngOnInit(){this.createCards()}selectCard(t){this.cards[t].selected=!this.cards[t].selected,0===this.counter?(this.lastSelectedCard=t,this.counter++):(this.currentSelectedCard=t,this.counter=0,this.lockUnlockUnselectedCards(!0),this.checkSelection())}createCards(){const t=this.getNumCards();for(let s=0;s<t/2;s++)for(let r=0;r<2;r++)this.setNextIndexCard(t),this.cards[this.createdIndex[this.createdIndex.length-1]]={image:_[s],selected:!1,value:_[s]?.split(".")[0],locked:!1}}getNumCards(){return{[c.EASY]:16,[c.NORMAL]:32,[c.HARD]:64}[this.mode]??32}setNextIndexCard(t){let s=this.getNextIndexCard(t);this.createdIndex.includes(s)?this.setNextIndexCard(t):this.createdIndex.push(s)}getNextIndexCard(t){return Math.floor(Math.random()*t)}lockUnlockUnselectedCards(t){this.cards.filter(s=>!s.selected).map(s=>s.locked=t)}checkSelection(){this.cards[this.lastSelectedCard].value===this.cards[this.currentSelectedCard].value?(this.updateSelectedCardsState(!0),setTimeout(()=>{this.lockUnlockUnselectedCards(!1)},1e3)):setTimeout(()=>{this.updateSelectedCardsState(!1),this.lockUnlockUnselectedCards(!1)},1e3),setTimeout(()=>{this.changeDetector.detectChanges()},1e3)}updateSelectedCardsState(t){this.cards[this.lastSelectedCard].selected=t,this.cards[this.currentSelectedCard].selected=t}static#e=this.\u0275fac=function(s){return new(s||n)(e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-memory-cards"]],inputs:{mode:"mode"},decls:1,vars:1,consts:[["class","cards",4,"ngFor","ngForOf"],[1,"cards"],[1,"cards__inner",3,"click"],[1,"cards__front","cards__center"],["src","assets/images/memory/puzzle.png","alt","Card game",2,"width","75%","height","75%"],[1,"cards__back","cards__center"],[2,"width","65%","height","65%",3,"src","alt"]],template:function(s,r){1&s&&e.YNc(0,Z,6,6,"div",0),2&s&&e.Q6J("ngForOf",r.cards)},dependencies:[d.sg],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap}.cards[_ngcontent-%COMP%]{margin:.75rem;cursor:pointer;perspective:1000px;width:30px;height:30px}.cards__center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.cards__inner[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;text-align:center;transition:transform .6s;transform-style:preserve-3d;box-shadow:0 4px 8px #0003}.cards__inner--selected[_ngcontent-%COMP%]{transform:rotateY(180deg);pointer-events:none}.cards__inner--locked[_ngcontent-%COMP%]{pointer-events:none}.cards__front[_ngcontent-%COMP%], .cards__back[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;backface-visibility:hidden}.cards__back[_ngcontent-%COMP%]{transform:rotateY(180deg)}@media (width >= 768px){.cards[_ngcontent-%COMP%]{width:36px;height:36px}}@media (width >= 992px){.cards[_ngcontent-%COMP%]{width:60px;height:60px}}@media (width >= 1200px){.cards[_ngcontent-%COMP%]{width:90px;height:90px}}@media (width >= 1400px){.cards[_ngcontent-%COMP%]{width:100px;height:100px}}"]})}return n})();function R(n,i){if(1&n&&(e.TgZ(0,"span",4),e._uU(1),e.qZA()),2&n){const t=i.ngIf;e.xp6(1),e.Oqu(t)}}let U=(()=>{class n{constructor(){this.mode=c.NORMAL,this.back=new e.vpe,this.isFinished=new e.vpe,this.gameMode=c,this.time=new M.X(0),this.subscriptions=new g.w0}ngOnInit(){this.time.next(this.getTime()),this.subscriptions.add(function S(n=0,i=f){return n<0&&(n=0),function F(n=0,i,t=k){let s=-1;return null!=i&&((0,O.K)(i)?t=i:s=i),new I.y(r=>{let o=function T(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let m=0;return t.schedule(function(){r.closed||(r.next(m++),0<=s?this.schedule(void 0,s):r.complete())},o)})}(n,n,i)}(1e3).subscribe(()=>{this.time.next(this.time.getValue()-1)})),this.subscriptions.add(this.time.subscribe(t=>{t<=0&&this.isFinished.emit(!0)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}goBack(){this.back.emit(!0)}getTime(){return{[c.EASY]:45,[c.NORMAL]:60,[c.HARD]:90}[this.mode]??60}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-memory-board"]],inputs:{mode:"mode"},outputs:{back:"back",isFinished:"isFinished"},decls:5,vars:4,consts:[[1,"board","d-flex","justify-content-center","align-items-center","container-fluid","vh-100","py-4","position-relative"],[1,"board__back","bi","bi-arrow-left","position-absolute","top-0","end-0","fs-4","p-2",3,"click"],["class","position-absolute top-0 start-0 fs-4 p-2",4,"ngIf"],[3,"mode"],[1,"position-absolute","top-0","start-0","fs-4","p-2"]],template:function(s,r){1&s&&(e.TgZ(0,"div",0)(1,"i",1),e.NdJ("click",function(){return r.goBack()}),e.qZA(),e.YNc(2,R,2,1,"span",2),e.ALo(3,"async"),e._UZ(4,"app-memory-cards",3),e.qZA()),2&s&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,2,r.time)),e.xp6(2),e.Q6J("mode",r.mode))},dependencies:[d.O5,P,d.Ov],changeDetection:0})}return n})();function J(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){const o=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.selectMode(o))}),e._uU(1),e.qZA()}if(2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t," ")}}let Y=(()=>{class n{constructor(){this.selectedMode=new e.vpe,this.modeType=c,this.gameModes=[c.EASY,c.NORMAL,c.HARD]}selectMode(t){this.selectedMode.emit(t)}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-memory-game-mode"]],outputs:{selectedMode:"selectedMode"},decls:3,vars:1,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-center","vh-100"],[1,"d-flex","flex-column"],["type","button","class","btn fs-3 my-2",3,"click",4,"ngFor","ngForOf"],["type","button",1,"btn","fs-3","my-2",3,"click"]],template:function(s,r){1&s&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,J,2,1,"button",2),e.qZA()()),2&s&&(e.xp6(2),e.Q6J("ngForOf",r.gameModes))},dependencies:[d.sg]})}return n})();function H(n,i){1&n&&e._UZ(0,"app-exit-game")}function B(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-memory-game-mode",4),e.NdJ("selectedMode",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.selectMode(r))}),e.qZA()}}function D(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-memory-board",5),e.NdJ("back",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.showMenu(r))})("isFinished",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.endGame(r))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("mode",t.selectedMode)}}function E(n,i){1&n&&(e.TgZ(0,"p"),e._uU(1,"FINNNNNNNNNNNNNNNNNn"),e.qZA())}const G=[{path:"",component:(()=>{class n{constructor(){this.displayMenu=!0,this.isFinished=!1,this.selectedMode=c.NORMAL}selectMode(t){this.selectedMode=t,this.displayMenu=!1}showMenu(t){this.displayMenu=t}endGame(t){this.isFinished=t}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-memory"]],decls:5,vars:4,consts:[[1,"memory","container-fluid","vh-100","d-flex","flex-wrap","flex-column","justify-content-center","align-items-center"],[4,"ngIf"],[3,"selectedMode",4,"ngIf"],[3,"mode","back","isFinished",4,"ngIf"],[3,"selectedMode"],[3,"mode","back","isFinished"]],template:function(s,r){1&s&&(e.TgZ(0,"div",0),e.YNc(1,H,1,0,"app-exit-game",1),e.YNc(2,B,1,0,"app-memory-game-mode",2),e.YNc(3,D,1,1,"app-memory-board",3),e.YNc(4,E,2,0,"p",1),e.qZA()),2&s&&(e.xp6(1),e.Q6J("ngIf",r.displayMenu),e.xp6(1),e.Q6J("ngIf",r.displayMenu),e.xp6(1),e.Q6J("ngIf",!r.displayMenu&&!r.isFinished),e.xp6(1),e.Q6J("ngIf",r.isFinished))},dependencies:[d.O5,u.R,U,Y],styles:[".memory[_ngcontent-%COMP%]{background-image:linear-gradient(180deg,#ffffff,pink)}"]})}return n})()}];let L=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275mod=e.oAB({type:n});static#s=this.\u0275inj=e.cJS({imports:[y.Bz.forChild(G),d.ez,C.aw,u.R,x.O]})}return n})()}}]);