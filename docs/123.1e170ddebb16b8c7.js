"use strict";(self.webpackChunkmultigames=self.webpackChunkmultigames||[]).push([[123],{2123:(A,d,a)=>{a.r(d),a.d(d,{PokemonModule:()=>N});var r=a(6895),k=a(4228),l=a(4032),g=a(5925),h=a(5861),m=a(1135),u=a(727),e=a(8274),b=a(4004),x=a(529);let f=(()=>{class n{constructor(t){this.http=t,this.pokemonNames=[],this.baseUrl="https://pokeapi.co/api/v2/pokemon"}getPokemon(t){return this.http.get(this.baseUrl+`/${t}`).pipe((0,b.U)(o=>o))}getPokemonNames(){return this.http.get("./assets/games/pokemon/pokemon-names.json")}setPokemonNames(t){this.pokemonNames=t}generateRandomNumber(){return Math.floor(150*Math.random())+1}static#e=this.\u0275fac=function(o){return new(o||n)(e.LFG(x.eN))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),v=(()=>{class n{constructor(){this.pokemon=new m.X({}),this.hasBeenSuccessful=!1,this.image=[],this.subscriptions=new u.w0}ngOnInit(){this.subscriptions.add(this.pokemon.subscribe(t=>{if(0!==Object.keys(t).length){const o=Object.entries(t.sprites).find((s,i)=>s.includes("other")&&void 0!==i);this.image=o?o[1].dream_world.front_default:void 0}}))}ngOnDestroy(){this.subscriptions.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-pokemon-image"]],inputs:{pokemon:"pokemon",hasBeenSuccessful:"hasBeenSuccessful"},decls:1,vars:3,consts:[[1,"pokemon-image",3,"src"]],template:function(o,s){1&o&&e._UZ(0,"img",0),2&o&&(e.ekj("pokemon-image--success",s.hasBeenSuccessful),e.s9C("src",s.image,e.LSH))},styles:[".pokemon-image[_ngcontent-%COMP%]{max-width:175px;max-height:175px;filter:brightness(0);animation:_ngcontent-%COMP%_fadeIn 2s;-webkit-animation:_ngcontent-%COMP%_fadeIn 2s}.pokemon-image--success[_ngcontent-%COMP%]{filter:brightness(1)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}"],changeDetection:0})}return n})(),C=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-loading"]],decls:1,vars:0,consts:[[1,"loading"]],template:function(o,s){1&o&&e._UZ(0,"div",0)},styles:["[_nghost-%COMP%]{position:absolute;top:45%;left:calc(50% - 25px)}.loading[_ngcontent-%COMP%]{border:7px solid #3761a8;border-radius:50%;border-top:7px solid #feca1b;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 2s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}return n})(),_=(()=>{class n{constructor(){this.name="",this.disabled=!1,this.pokemonSelected=new e.vpe}getSelection(t){console.log("\u{1f680} ~ ButtonComponent ~ getSelection ~ event:",t),this.pokemonSelected.emit(t.target.value)}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-button"]],inputs:{name:"name",disabled:"disabled"},outputs:{pokemonSelected:"pokemonSelected"},decls:2,vars:3,consts:[[1,"m-2","p-2","fs-5","fw-bold",3,"value","disabled","click"]],template:function(o,s){1&o&&(e.TgZ(0,"button",0),e.NdJ("click",function(c){return s.getSelection(c)}),e._uU(1),e.qZA()),2&o&&(e.s9C("value",s.name),e.Q6J("disabled",s.disabled),e.xp6(1),e.Oqu(s.name))},styles:["button[_ngcontent-%COMP%]{border:none;border-radius:5px;background-color:#feca1b;color:#3761a8;cursor:pointer;text-transform:capitalize}button[_ngcontent-%COMP%]:hover{background-color:#3761a8;color:#feca1b}button[_ngcontent-%COMP%]:disabled{pointer-events:none;opacity:.5}"],changeDetection:0})}return n})(),O=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-lives"]],decls:1,vars:0,consts:[["src","assets/images/pokemon/pokeball.png",1,"lives__image","mx-2"]],template:function(o,s){1&o&&e._UZ(0,"img",0)},styles:[".lives__image[_ngcontent-%COMP%]{width:40px;height:40px}"]})}return n})();function P(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"app-button",10),e.NdJ("pokemonSelected",function(s){e.CHM(t);const i=e.oxw(2);return e.KtG(i.checkSelection(s))}),e.qZA()}if(2&n){const t=p.$implicit,o=e.oxw(2);e.Q6J("name",t)("disabled",o.disableButtons)}}function S(n,p){1&n&&e._UZ(0,"app-lives")}function y(n,p){if(1&n&&(e.ynx(0),e.TgZ(1,"div",2),e._UZ(2,"app-pokemon-image",3),e.qZA(),e.TgZ(3,"div",4),e.YNc(4,P,1,2,"app-button",5),e.qZA(),e.TgZ(5,"div",6)(6,"div",7),e.YNc(7,S,1,0,"app-lives",8),e.qZA(),e.TgZ(8,"div",9)(9,"span"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"span"),e._uU(13),e.qZA()()(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("pokemon",t.pokemon)("hasBeenSuccessful",t.hasBeenSuccessful),e.xp6(2),e.Q6J("ngForOf",t.buttonsOptions),e.xp6(3),e.Q6J("ngForOf",t.lives),e.xp6(3),e.Oqu(e.lcZ(11,6,"games.score")),e.xp6(3),e.Oqu(t.score)}}function Z(n,p){1&n&&e._UZ(0,"app-loading")}let w=(()=>{class n{constructor(t){this.pokemonService=t,this.pokemon=new m.X({}),this.loading=new m.X(!1),this.lives=[1,2,3],this.score=0,this.isSuccessful=new e.vpe,this.isFinished=new e.vpe,this.buttonsOptions=[],this.hasBeenSuccessful=!1,this.disableButtons=!1,this.subscriptions=new u.w0}ngOnInit(){this.subscriptions.add(this.pokemon.subscribe(t=>{0!==Object.keys(t).length&&(this.reset(),this.setPokemonButtonsOptions())}))}ngOnDestroy(){this.subscriptions.unsubscribe()}checkSelection(t){this.pokemon.getValue().name===t?(this.disableButtons=!0,this.hasBeenSuccessful=!0,this.score++,setTimeout(()=>{this.loading.next(!0),this.nextPokemon(this.score)},1e3)):(this.lives.pop(),0===this.lives.length&&this.endGame())}setPokemonButtonsOptions(){var t=this;return(0,h.Z)(function*(){const o=t.pokemonService.pokemonNames;let s=[],i=t.pokemon.getValue().id;s.push(i);for(let c=0;c<2;c++)i=yield t.getRandomNumber(),s.includes(i)?c=c>0?c-1:0:s.push(i);s=s.sort(),t.setPokemonsNames(o,s)})()}getRandomNumber(){return this.pokemonService.generateRandomNumber()}setPokemonsNames(t,o){o.map(s=>{const i=Object.values(t[s-1])[0];this.buttonsOptions.push(i)})}nextPokemon(t){this.isSuccessful.emit(t)}endGame(){this.isFinished.emit()}reset(){this.buttonsOptions=[],this.disableButtons=!1,this.hasBeenSuccessful=!1}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(f))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-board"]],inputs:{pokemon:"pokemon",loading:"loading",lives:"lives",score:"score"},outputs:{isSuccessful:"isSuccessful",isFinished:"isFinished"},decls:5,vars:6,consts:[[1,"board","vh-100","d-flex","align-items-center","flex-column"],[4,"ngIf"],[1,"board__pokemon","d-flex","my-4"],[3,"pokemon","hasBeenSuccessful"],[1,"board__buttons","d-flex"],[3,"name","disabled","pokemonSelected",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","justify-content-center","p-2"],[1,"mx-2"],[4,"ngFor","ngForOf"],[1,"board__score","d-flex","text-center","my-2","fw-bold","fs-5"],[3,"name","disabled","pokemonSelected"]],template:function(o,s){1&o&&(e.TgZ(0,"div",0),e.YNc(1,y,14,8,"ng-container",1),e.ALo(2,"async"),e.qZA(),e.YNc(3,Z,1,0,"app-loading",1),e.ALo(4,"async")),2&o&&(e.xp6(1),e.Q6J("ngIf",!e.lcZ(2,2,s.loading)),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,4,s.loading)))},dependencies:[r.sg,r.O5,v,C,_,O,r.Ov,l.X$],styles:[".board__pokemon[_ngcontent-%COMP%], .board__buttons[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;align-items:center}.board__pokemon[_ngcontent-%COMP%]{height:250px}.board__buttons[_ngcontent-%COMP%]{margin-bottom:10px;min-height:50px}.board__score[_ngcontent-%COMP%]{flex-direction:column;color:#3761a8}"]})}return n})(),T=(()=>{class n{constructor(){this.score=0}newGame(){window.location.reload()}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-end-game"]],inputs:{score:"score"},decls:12,vars:10,consts:[[1,"end-game","vh-100","d-flex","justify-content-center","align-items-center","flex-column"],[1,"end-game__title","fw-bold"],[1,"end-game__score","fw-bold","mb-4"],[1,"ms-3"],[3,"name","click"]],template:function(o,s){1&o&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"span"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"span",3),e._uU(9),e.qZA()(),e.TgZ(10,"app-button",4),e.NdJ("click",function(){return s.newGame()}),e.ALo(11,"translate"),e.qZA()()),2&o&&(e.xp6(2),e.Oqu(e.lcZ(3,4,"games.gameOver")),e.xp6(4),e.Oqu(e.lcZ(7,6,"games.pokemon.totalScore")),e.xp6(3),e.Oqu(s.score),e.xp6(1),e.Q6J("name",e.lcZ(11,8,"games.newGame")))},dependencies:[_,l.X$],styles:[".end-game__title[_ngcontent-%COMP%]{font-size:4rem}.end-game__score[_ngcontent-%COMP%]{font-size:2rem}"]})}return n})();function B(n,p){if(1&n&&e._UZ(0,"app-end-game",5),2&n){const t=e.oxw();e.Q6J("score",t.score)}}function F(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"app-board",6),e.NdJ("isSuccessful",function(s){e.CHM(t);const i=e.oxw();return e.KtG(i.nextPokemon(s))})("isFinished",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.endGame())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("pokemon",t.pokemon)("loading",t.loading)("lives",t.lives)("score",t.score)}}const M=[{path:"",component:(()=>{class n{constructor(t){this.pokemonService=t,this.pokemon=new m.X({}),this.lives=[1,2,3],this.score=0,this.loading=new m.X(!1),this.isFinished=!1,this.pokemonsShown=[],this.subscriptions=new u.w0}ngOnInit(){this.getPokemonNames()}ngOnDestroy(){this.subscriptions.unsubscribe()}endGame(){this.isFinished=!0}nextPokemon(t){this.score=t,this.startGame()}getPokemonNames(){this.subscriptions.add(this.pokemonService.getPokemonNames().subscribe(t=>{this.pokemonService.setPokemonNames(t),this.startGame()}))}startGame(){var t=this;return(0,h.Z)(function*(){t.loading.next(!0);const o=yield t.pokemonService.generateRandomNumber();t.pokemonsShown.includes(o)?t.startGame():(t.pokemonsShown.push(o),t.subscriptions.add(t.pokemonService.getPokemon(o).subscribe({next:s=>{t.loading.next(!1),t.pokemon.next(s)},error:s=>{console.log("\u{1f680} ~ PokemonComponent ~ this.pokemonService.getPokemon ~ error:",s)}})))})()}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(f))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-pokemon"]],decls:6,vars:2,consts:[[1,"pokemon","container-fluid","vh-100","d-flex","flex-column"],[3,"score",4,"ngIf"],["src","assets/images/pokemon/logo.png",1,"pokemon__logo","position-absolute","top-0","start-0","p-3"],["src","assets/images/pokemon/pokeball.png",1,"pokemon__ball","position-absolute","bottom-0","end-0","p-2"],[3,"pokemon","loading","lives","score","isSuccessful","isFinished",4,"ngIf"],[3,"score"],[3,"pokemon","loading","lives","score","isSuccessful","isFinished"]],template:function(o,s){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"app-exit-game"),e.YNc(2,B,1,1,"app-end-game",1),e._UZ(3,"img",2)(4,"img",3),e.YNc(5,F,1,4,"app-board",4),e.qZA()),2&o&&(e.xp6(2),e.Q6J("ngIf",s.isFinished),e.xp6(3),e.Q6J("ngIf",!s.isFinished))},dependencies:[r.O5,g.R,w,T],styles:[".pokemon[_ngcontent-%COMP%]{color:#3761a8;text-shadow:2px 2px 2px rgba(254,202,27,.5);background-image:linear-gradient(180deg,#ffffff,#feca1b)}.pokemon__logo[_ngcontent-%COMP%]{width:10rem;transform:rotate(-15deg)}.pokemon__ball[_ngcontent-%COMP%]{width:3rem}"]})}return n})()}];let N=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[k.Bz.forChild(M),r.ez,l.aw,g.R]})}return n})()}}]);